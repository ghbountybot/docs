# Payment Accounts API

The Payment Accounts API allows you to interact with wallets and payment accounts. This API is generated by PayloadCMS and uses cookie-based authentication.

## Authentication

All endpoints require authentication via cookies. You must be logged in to access these endpoints.

## Access Rules

As a regular user, you can:
1. View your own wallet
2. Cannot create or delete accounts (managed by the platform)
3. Cannot directly modify account balances (use payment events instead)

## Endpoints

### Get User Wallet

```http
GET /api/payment-accounts/:id
```

Retrieve your wallet information. You can only access your own wallet.

#### Response

```json
{
  "id": "account_123",
  "name": "User's Wallet",
  "type": "user_wallet",
  "credits": 5000,
  "owner": {
    "id": "user_123",
    "email": "user@example.com"
  }
}
```

### List Payment Accounts

```http
GET /api/payment-accounts
```

List payment accounts you have access to (your wallet).

#### Query Parameters

| Parameter | Type | Description |
|-----------|------|-------------|
| page | number | Page number for pagination |
| limit | number | Number of items per page |

#### Response

```json
{
  "docs": [{
    "id": "account_123",
    "name": "User's Wallet",
    "type": "user_wallet",
    "credits": 5000
  }],
  "totalDocs": 1,
  "page": 1,
  "totalPages": 1,
  "hasNextPage": false,
  "hasPrevPage": false
}
```

## Error Responses

```json
{
  "errors": [{
    "message": "Not authorized to access this account"
  }]
}
```

Common error codes:
- `401` - Not authenticated
- `403` - Not authorized to access the account
- `404` - Account not found 